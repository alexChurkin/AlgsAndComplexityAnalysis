# Поиск пересекающихся отрезков

### Описание

В данном репозитории находится код Python-программы, предоставляющей возможность наглядно сравнить 2 алгоритма поиска
пересекающихся отрезков:

- Наивный алгоритм (перебор пар отрезков)
- Алгоритм заметающей прямой (сканирующей прямой) с использованием АВЛ-дерева для хранения отрезков.

Были реализованы следующие способы генерации случайных отрезков:

1. Генерация набора отрезков с псевдослучайными координатами начала и конца из единичного квадрата
2. Генерация набора отрезков с псевдослучайными центром из единичного квадрата и углом наклона + фиксированной длиной r.

Для каждого из способов реализована возможность явно указать число k точно непересекающихся (синих) отрезков, причём
явное указание числа k обязательно влечёт за собой создание 2-х пересекающихся.

![Пример работы](Example.png?raw=true)

### Проведённые эксперименты

Были проведены следующие эксперименты:

- **Эксперимент 1**:  
  Демонстрирует, что при простом увеличении числа случайных отрезков случайной длины, находящихся внутри ограниченной
  области, время работы алгоритма перебора практически не изменяется, поскольку среди отрезков увеличивается число
  пересекающихся. Алгоритм перебора справляется с данной задачей ощутимо быстрее.  
  ![Эксперимент 1](Experiment_1.png?raw=true)


- **Эксперимент 2**:  
  Демонстрирует, что при уменьшении числа пересекающихся отрезков среди отрезков случайной длины внутри ограниченной
  области время работы наивного алгоритма перебора пар отрезков стремительно растёт, поскольку перебор n^2 отрезков -
  довольно трудоёмкая операция. Алгоритм заметающей прямой справляется с данной задачей существенно быстрее.
  ![Эксперимент 2](Experiment_2.png?raw=true)


- **Эксперимент 3**:  
  Демонстрирует, что если все отрезки очень небольшой длины, то при увеличении числа отрезков наивный алгоритм работает
  дольше. Это связано с маленькой плотностью расположения отрезков, вследствие чего они практически никогда не
  пересекаются.
  ![Эксперимент 3](Experiment_3.png?raw=true)


- **Эксперимент 4**:  
  Демонстрирует, что при увеличении размера всех отрезков время работы наивного алгоритма уменьшается. Это связано с
  увеличением числа пересечений отрезков.  
  ![Эксперимент 4](Experiment_4.png?raw=true)

### Источники:

- Алгоритм проверки пересечения двух отрезков:
    - https://www.geeksforgeeks.org/check-if-two-given-line-segments-intersect/
    - Подробнее про ориентацию 3-х точек на плоскости:  
      https://www.geeksforgeeks.org/orientation-3-ordered-points/amp/

- АВЛ-дерево:
    - https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-fall-2011/lecture-videos/lec06_code.zip
    - https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-fall-2011/lecture-videos/MIT6_006F11_lec06_orig.pdf
    - https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-fall-2011/lecture-videos/lecture-6-avl-trees-avl-sort/
    - [Просто о поворотах](https://translated.turbopages.org/proxy_u/en-ru.ru.1bd900c1-633c4683-b5fcc6e4-74722d776562/https/www.freecodecamp.org/news/avl-tree-insertion-rotation-and-balance-factor/)

Отдельная благодарность [eranflashin](https://github.com/eranflashin/)
за [репозиторий с усложнённым вариантом данного алгоритма](https://github.com/eranflashin/Plane_Sweep_Algorithm).